"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("stream")),r=e(require("react"));"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function n(e,t){return e(t={exports:{}},t.exports),t.exports}var i=n((function(e,r){
/* @license
Papa Parse
v5.2.0
https://github.com/mholt/PapaParse
License: MIT
*/
e.exports=function e(){var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r?r:{},n=!r.document&&!!r.postMessage,i=n&&/blob:/i.test((r.location||{}).protocol),o={},a=0,s={parse:function(t,n){var i=(n=n||{}).dynamicTyping||!1;if(w(i)&&(n.dynamicTypingFunction=i,i={}),n.dynamicTyping=i,n.transform=!!w(n.transform)&&n.transform,n.worker&&s.WORKERS_SUPPORTED){var u=function(){if(!s.WORKERS_SUPPORTED)return!1;var t,n,i=(t=r.URL||r.webkitURL||null,n=e.toString(),s.BLOB_URL||(s.BLOB_URL=t.createObjectURL(new Blob(["(",n,")();"],{type:"text/javascript"})))),u=new r.Worker(i);return u.onmessage=v,u.id=a++,o[u.id]=u,u}();return u.userStep=n.step,u.userChunk=n.chunk,u.userComplete=n.complete,u.userError=n.error,n.step=w(n.step),n.chunk=w(n.chunk),n.complete=w(n.complete),n.error=w(n.error),delete n.worker,void u.postMessage({input:t,config:n,workerId:u.id})}var c=null;return t===s.NODE_STREAM_INPUT&&"undefined"==typeof PAPA_BROWSER_CONTEXT?(c=new h(n)).getStream():("string"==typeof t?c=n.download?new f(n):new d(n):!0===t.readable&&w(t.read)&&w(t.on)?c=new p(n):(r.File&&t instanceof File||t instanceof Object)&&(c=new l(n)),c.stream(t))},unparse:function(e,t){var r=!1,n=!0,i=",",o="\r\n",a='"',u=a+a,c=!1,f=null;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||s.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(i=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(r=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(n=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");f=t.columns}void 0!==t.escapeChar&&(u=t.escapeChar+a)}}();var l=new RegExp(m(a),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return p(null,e,c);if("object"==typeof e[0])return p(f||d(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:d(e.data[0])),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),p(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function d(e){if("object"!=typeof e)return[];var t=[];for(var r in e)t.push(r);return t}function p(e,t,r){var a="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var s=Array.isArray(e)&&e.length>0,u=!Array.isArray(t[0]);if(s&&n){for(var c=0;c<e.length;c++)c>0&&(a+=i),a+=h(e[c],c);t.length>0&&(a+=o)}for(var f=0;f<t.length;f++){var l=s?e.length:t[f].length,d=!1,p=s?0===Object.keys(t[f]).length:0===t[f].length;if(r&&!s&&(d="greedy"===r?""===t[f].join("").trim():1===t[f].length&&0===t[f][0].length),"greedy"===r&&s){for(var y=[],m=0;m<l;m++){var g=u?e[m]:m;y.push(t[f][g])}d=""===y.join("").trim()}if(!d){for(var v=0;v<l;v++){v>0&&!p&&(a+=i);var b=s&&u?e[v]:v;a+=h(t[f][b],v)}f<t.length-1&&(!r||l>0&&!p)&&(a+=o)}}return a}function h(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var n=e.toString().replace(l,u);return"boolean"==typeof r&&r||"function"==typeof r&&r(e,t)||Array.isArray(r)&&r[t]||function(e,t){for(var r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return!0;return!1}(n,s.BAD_DELIMITERS)||n.indexOf(i)>-1||" "===n.charAt(0)||" "===n.charAt(n.length-1)?a+n+a:n}}};if(s.RECORD_SEP=String.fromCharCode(30),s.UNIT_SEP=String.fromCharCode(31),s.BYTE_ORDER_MARK="\ufeff",s.BAD_DELIMITERS=["\r","\n",'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!n&&!!r.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=g,s.ParserHandle=y,s.NetworkStreamer=f,s.FileStreamer=l,s.StringStreamer=d,s.ReadableStreamStreamer=p,"undefined"==typeof PAPA_BROWSER_CONTEXT&&(s.DuplexStreamStreamer=h),r.jQuery){var u=r.jQuery;u.fn.parse=function(e){var t=e.config||{},n=[];return this.each((function(e){if("INPUT"!==u(this).prop("tagName").toUpperCase()||"file"!==u(this).attr("type").toLowerCase()||!r.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)n.push({file:this.files[i],inputElem:this,instanceConfig:u.extend({},t)})})),i(),this;function i(){if(0!==n.length){var t,r,i,a,c=n[0];if(w(e.before)){var f=e.before(c.file,c.inputElem);if("object"==typeof f){if("abort"===f.action)return t="AbortError",r=c.file,i=c.inputElem,a=f.reason,void(w(e.error)&&e.error({name:t},r,i,a));if("skip"===f.action)return void o();"object"==typeof f.config&&(c.instanceConfig=u.extend(c.instanceConfig,f.config))}else if("skip"===f)return void o()}var l=c.instanceConfig.complete;c.instanceConfig.complete=function(e){w(l)&&l(e,c.file,c.inputElem),o()},s.parse(c.file,c.instanceConfig)}else w(e.complete)&&e.complete()}function o(){n.splice(0,1),i()}}}function c(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=S(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new y(t),this._handle.streamer=this,this._config=t}.call(this,e),this.parseChunk=function(e,t){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var n=this._config.beforeFirstChunk(e);void 0!==n&&(e=n)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var a=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var u=a.meta.cursor;this._finished||(this._partialLine=o.substring(u-this._baseIndex),this._baseIndex=u),a&&a.data&&(this._rowCount+=a.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)r.postMessage({results:a,workerId:s.WORKER_ID,finished:c});else if(w(this._config.chunk)&&!t){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!c||!w(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):i&&this._config.error&&r.postMessage({workerId:s.WORKER_ID,error:e,finished:!1})}}function f(e){var t;(e=e||{}).chunkSize||(e.chunkSize=s.RemoteChunkSize),c.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=E(this._chunkLoaded,this),t.onerror=E(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||t.status>=400?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var r=t.statusText||e;this._sendError(new Error(r))}}function l(e){var t,r;(e=e||{}).chunkSize||(e.chunkSize=s.LocalChunkSize),c.call(this,e);var n="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,r=e.slice||e.webkitSlice||e.mozSlice,n?((t=new FileReader).onload=E(this._chunkLoaded,this),t.onerror=E(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);e=r.call(e,this._start,i)}var o=t.readAsText(e,this._config.encoding);n||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;e=e||{},c.call(this,e),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,r=this._config.chunkSize;return r?(e=t.substring(0,r),t=t.substring(r)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function p(e){e=e||{},c.call(this,e);var t=[],r=!0,n=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):r=!0},this._streamData=E((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=E((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=E((function(){this._streamCleanUp(),n=!0,this._streamData("")}),this),this._streamCleanUp=E((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function h(e){var r=t.Duplex,n=S(e),i=!0,o=!1,a=[],s=null;this._onCsvData=function(e){var t=e.data;s.push(t)||this._handle.paused()||this._handle.pause()},this._onCsvComplete=function(){s.push(null)},n.step=E(this._onCsvData,this),n.complete=E(this._onCsvComplete,this),c.call(this,n),this._nextChunk=function(){o&&1===a.length&&(this._finished=!0),a.length?a.shift()():i=!0},this._addToParseQueue=function(e,t){a.push(E((function(){if(this.parseChunk("string"==typeof e?e:e.toString(n.encoding)),w(t))return t()}),this)),i&&(i=!1,this._nextChunk())},this._onRead=function(){this._handle.paused()&&this._handle.resume()},this._onWrite=function(e,t,r){this._addToParseQueue(e,r)},this._onWriteComplete=function(){o=!0,this._addToParseQueue("")},this.getStream=function(){return s},(s=new r({readableObjectMode:!0,decodeStrings:!1,read:E(this._onRead,this),write:E(this._onWrite,this)})).once("finish",E(this._onWriteComplete,this))}function y(e){var t,r,n,i=Math.pow(2,53),o=-i,a=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)(e[-+]?\d+)?\s*$/,u=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,c=this,f=0,l=0,d=!1,p=!1,h=[],y={data:[],errors:[],meta:{}};if(w(e.step)){var v=e.step;e.step=function(t){if(y=t,E())_();else{if(_(),0===y.data.length)return;f+=t.data.length,e.preview&&f>e.preview?r.abort():(y.data=y.data[0],v(y,c))}}}function b(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function _(){if(y&&n&&(O("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),n=!1),e.skipEmptyLines)for(var t=0;t<y.data.length;t++)b(y.data[t])&&y.data.splice(t--,1);return E()&&function(){if(y)if(Array.isArray(y.data[0])){for(var t=0;E()&&t<y.data.length;t++)y.data[t].forEach(r);y.data.splice(0,1)}else y.data.forEach(r);function r(t){w(e.transformHeader)&&(t=e.transformHeader(t)),h.push(t)}}(),function(){if(!y||!e.header&&!e.dynamicTyping&&!e.transform)return y;function t(t,r){var n,i=e.header?{}:[];for(n=0;n<t.length;n++){var o=n,a=t[n];e.header&&(o=n>=h.length?"__parsed_extra":h[n]),e.transform&&(a=e.transform(a,o)),a=C(o,a),"__parsed_extra"===o?(i[o]=i[o]||[],i[o].push(a)):i[o]=a}return e.header&&(n>h.length?O("FieldMismatch","TooManyFields","Too many fields: expected "+h.length+" fields but parsed "+n,l+r):n<h.length&&O("FieldMismatch","TooFewFields","Too few fields: expected "+h.length+" fields but parsed "+n,l+r)),i}var r=1;return!y.data.length||Array.isArray(y.data[0])?(y.data=y.data.map(t),r=y.data.length):y.data=t(y.data,0),e.header&&y.meta&&(y.meta.fields=h),l+=r,y}()}function E(){return e.header&&0===h.length}function C(t,r){return function(t){return e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),!0===(e.dynamicTyping[t]||e.dynamicTyping)}(t)?"true"===r||"TRUE"===r||"false"!==r&&"FALSE"!==r&&(function(e){if(a.test(e)){var t=parseFloat(e);if(t>o&&t<i)return!0}return!1}(r)?parseFloat(r):u.test(r)?new Date(r):""===r?null:r):r}function O(e,t,r,n){var i={type:e,code:t,message:r};void 0!==n&&(i.row=n),y.errors.push(i)}this.parse=function(i,o,a){var u=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var r=new RegExp(m(t)+"([^]*?)"+m(t),"gm"),n=(e=e.replace(r,"")).split("\r"),i=e.split("\n"),o=i.length>1&&i[0].length<n[0].length;if(1===n.length||o)return"\n";for(var a=0,s=0;s<n.length;s++)"\n"===n[s][0]&&a++;return a>=n.length/2?"\r\n":"\r"}(i,u)),n=!1,e.delimiter)w(e.delimiter)&&(e.delimiter=e.delimiter(i),y.meta.delimiter=e.delimiter);else{var c=function(t,r,n,i,o){var a,u,c,f;o=o||[",","\t","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var l=0;l<o.length;l++){var d=o[l],p=0,h=0,y=0;c=void 0;for(var m=new g({comments:i,delimiter:d,newline:r,preview:10}).parse(t),v=0;v<m.data.length;v++)if(n&&b(m.data[v]))y++;else{var _=m.data[v].length;h+=_,void 0!==c?_>0&&(p+=Math.abs(_-c),c=_):c=_}m.data.length>0&&(h/=m.data.length-y),(void 0===u||p<=u)&&(void 0===f||h>f)&&h>1.99&&(u=p,a=d,f=h)}return e.delimiter=a,{successful:!!a,bestDelimiter:a}}(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);c.successful?e.delimiter=c.bestDelimiter:(n=!0,e.delimiter=s.DefaultDelimiter),y.meta.delimiter=e.delimiter}var f=S(e);return e.preview&&e.header&&f.preview++,t=i,r=new g(f),y=r.parse(t,o,a),_(),d?{meta:{paused:!0}}:y||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,r.abort(),t=w(e.chunk)?"":t.substring(r.getCharIndex())},this.resume=function(){c.streamer._halted?(d=!1,c.streamer.parseChunk(t,!0)):setTimeout(c.resume,3)},this.aborted=function(){return p},this.abort=function(){p=!0,r.abort(),y.meta.aborted=!0,w(e.complete)&&e.complete(y),t=""}}function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(e){var t,r=(e=e||{}).delimiter,n=e.newline,i=e.comments,o=e.step,a=e.preview,u=e.fastMode,c=t=void 0===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof r||s.BAD_DELIMITERS.indexOf(r)>-1)&&(r=","),i===r)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||s.BAD_DELIMITERS.indexOf(i)>-1)&&(i=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var f=0,l=!1;this.parse=function(e,s,d){if("string"!=typeof e)throw new Error("Input must be a string");var p=e.length,h=r.length,y=n.length,g=i.length,v=w(o);f=0;var b=[],_=[],S=[],E=0;if(!e)return L();if(u||!1!==u&&-1===e.indexOf(t)){for(var C=e.split(n),O=0;O<C.length;O++){if(S=C[O],f+=S.length,O!==C.length-1)f+=n.length;else if(d)return L();if(!i||S.substring(0,g)!==i){if(v){if(b=[],j(S.split(r)),M(),l)return L()}else j(S.split(r));if(a&&O>=a)return b=b.slice(0,a),L(!0)}}return L()}for(var R=e.indexOf(r,f),k=e.indexOf(n,f),x=new RegExp(m(c)+m(t),"g"),T=e.indexOf(t,f);;)if(e[f]!==t)if(i&&0===S.length&&e.substring(f,f+g)===i){if(-1===k)return L();f=k+y,k=e.indexOf(n,f),R=e.indexOf(r,f)}else{if(-1!==R&&(R<k||-1===k)){if(!(T>R)){S.push(e.substring(f,R)),f=R+h,R=e.indexOf(r,f);continue}var I=N(R,T,k);if(I&&void 0!==I.nextDelim){R=I.nextDelim,T=I.quoteSearch,S.push(e.substring(f,R)),f=R+h,R=e.indexOf(r,f);continue}}if(-1===k)break;if(S.push(e.substring(f,k)),B(k+y),v&&(M(),l))return L();if(a&&b.length>=a)return L(!0)}else for(T=f,f++;;){if(-1===(T=e.indexOf(t,T+1)))return d||_.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:f}),F();if(T===p-1)return F(e.substring(f,T).replace(x,t));if(t!==c||e[T+1]!==c){if(t===c||0===T||e[T-1]!==c){-1!==R&&R<T+1&&(R=e.indexOf(r,T+1)),-1!==k&&k<T+1&&(k=e.indexOf(n,T+1));var P=A(-1===k?R:Math.min(R,k));if(e[T+1+P]===r){S.push(e.substring(f,T).replace(x,t)),f=T+1+P+h,e[T+1+P+h]!==t&&(T=e.indexOf(t,f)),R=e.indexOf(r,f),k=e.indexOf(n,f);break}var D=A(k);if(e.substring(T+1+D,T+1+D+y)===n){if(S.push(e.substring(f,T).replace(x,t)),B(T+1+D+y),R=e.indexOf(r,f),T=e.indexOf(t,f),v&&(M(),l))return L();if(a&&b.length>=a)return L(!0);break}_.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:f}),T++}}else T++}return F();function j(e){b.push(e),E=f}function A(t){var r=0;if(-1!==t){var n=e.substring(T+1,t);n&&""===n.trim()&&(r=n.length)}return r}function F(t){return d||(void 0===t&&(t=e.substring(f)),S.push(t),f=p,j(S),v&&M()),L()}function B(t){f=t,j(S),S=[],k=e.indexOf(n,f)}function L(e){return{data:b,errors:_,meta:{delimiter:r,linebreak:n,aborted:l,truncated:!!e,cursor:E+(s||0)}}}function M(){o(L()),b=[],_=[]}function N(n,i,o){var a={nextDelim:void 0,quoteSearch:void 0},s=e.indexOf(t,i+1);if(n>i&&n<s&&(s<o||-1===o)){var u=e.indexOf(r,s);if(-1===u)return a;u>s&&(s=e.indexOf(t,s+1)),a=N(u,s,o)}else a={nextDelim:n,quoteSearch:i};return a}},this.abort=function(){l=!0},this.getCharIndex=function(){return f}}function v(e){var t=e.data,r=o[t.workerId],n=!1;if(t.error)r.userError(t.error,t.file);else if(t.results&&t.results.data){var i={abort:function(){n=!0,b(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(w(r.userStep)){for(var a=0;a<t.results.data.length&&(r.userStep({data:t.results.data[a],errors:t.results.errors,meta:t.results.meta},i),!n);a++);delete t.results}else w(r.userChunk)&&(r.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!n&&b(t.workerId,t.results)}function b(e,t){var r=o[e];w(r.userComplete)&&r.userComplete(t),r.terminate(),delete o[e]}function _(){throw new Error("Not implemented.")}function S(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var r in e)t[r]=S(e[r]);return t}function E(e,t){return function(){e.apply(t,arguments)}}function w(e){return"function"==typeof e}return i&&(r.onmessage=function(e){var t=e.data;if(void 0===s.WORKER_ID&&t&&(s.WORKER_ID=t.workerId),"string"==typeof t.input)r.postMessage({workerId:s.WORKER_ID,results:s.parse(t.input,t.config),finished:!0});else if(r.File&&t.input instanceof File||t.input instanceof Object){var n=s.parse(t.input,t.config);n&&r.postMessage({workerId:s.WORKER_ID,results:n,finished:!0})}}),f.prototype=Object.create(c.prototype),f.prototype.constructor=f,l.prototype=Object.create(c.prototype),l.prototype.constructor=l,d.prototype=Object.create(d.prototype),d.prototype.constructor=d,p.prototype=Object.create(c.prototype),p.prototype.constructor=p,"undefined"==typeof PAPA_BROWSER_CONTEXT&&(h.prototype=Object.create(c.prototype),h.prototype.constructor=h),s}()}));function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?p(e):t}function y(e){return function(){var t,r=f(e);if(d()){var n=f(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return h(this,t)}}function m(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v="function"==typeof Symbol&&Symbol.for,b=v?Symbol.for("react.element"):60103,_=v?Symbol.for("react.portal"):60106,S=v?Symbol.for("react.fragment"):60107,E=v?Symbol.for("react.strict_mode"):60108,w=v?Symbol.for("react.profiler"):60114,C=v?Symbol.for("react.provider"):60109,O=v?Symbol.for("react.context"):60110,R=v?Symbol.for("react.async_mode"):60111,k=v?Symbol.for("react.concurrent_mode"):60111,x=v?Symbol.for("react.forward_ref"):60112,T=v?Symbol.for("react.suspense"):60113,I=v?Symbol.for("react.suspense_list"):60120,P=v?Symbol.for("react.memo"):60115,D=v?Symbol.for("react.lazy"):60116,j=v?Symbol.for("react.block"):60121,A=v?Symbol.for("react.fundamental"):60117,F=v?Symbol.for("react.responder"):60118,B=v?Symbol.for("react.scope"):60119;function L(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case b:switch(e=e.type){case R:case k:case S:case w:case E:case T:return e;default:switch(e=e&&e.$$typeof){case O:case x:case D:case P:case C:return e;default:return t}}case _:return t}}}function M(e){return L(e)===k}var N={AsyncMode:R,ConcurrentMode:k,ContextConsumer:O,ContextProvider:C,Element:b,ForwardRef:x,Fragment:S,Lazy:D,Memo:P,Portal:_,Profiler:w,StrictMode:E,Suspense:T,isAsyncMode:function(e){return M(e)||L(e)===R},isConcurrentMode:M,isContextConsumer:function(e){return L(e)===O},isContextProvider:function(e){return L(e)===C},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===b},isForwardRef:function(e){return L(e)===x},isFragment:function(e){return L(e)===S},isLazy:function(e){return L(e)===D},isMemo:function(e){return L(e)===P},isPortal:function(e){return L(e)===_},isProfiler:function(e){return L(e)===w},isStrictMode:function(e){return L(e)===E},isSuspense:function(e){return L(e)===T},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===S||e===k||e===w||e===E||e===T||e===I||"object"==typeof e&&null!==e&&(e.$$typeof===D||e.$$typeof===P||e.$$typeof===C||e.$$typeof===O||e.$$typeof===x||e.$$typeof===A||e.$$typeof===F||e.$$typeof===B||e.$$typeof===j)},typeOf:L},$=n((function(e,t){"production"!==process.env.NODE_ENV&&function(){var e="function"==typeof Symbol&&Symbol.for,r=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,i=e?Symbol.for("react.fragment"):60107,o=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,l=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,p=e?Symbol.for("react.suspense_list"):60120,h=e?Symbol.for("react.memo"):60115,y=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,v=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:var p=e.type;switch(p){case c:case f:case i:case a:case o:case d:return p;default:var m=p&&p.$$typeof;switch(m){case u:case l:case y:case h:case s:return m;default:return t}}case n:return t}}}var S=c,E=f,w=u,C=s,O=r,R=l,k=i,x=y,T=h,I=n,P=a,D=o,j=d,A=!1;function F(e){return _(e)===f}t.AsyncMode=S,t.ConcurrentMode=E,t.ContextConsumer=w,t.ContextProvider=C,t.Element=O,t.ForwardRef=R,t.Fragment=k,t.Lazy=x,t.Memo=T,t.Portal=I,t.Profiler=P,t.StrictMode=D,t.Suspense=j,t.isAsyncMode=function(e){return A||(A=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),F(e)||_(e)===c},t.isConcurrentMode=F,t.isContextConsumer=function(e){return _(e)===u},t.isContextProvider=function(e){return _(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===l},t.isFragment=function(e){return _(e)===i},t.isLazy=function(e){return _(e)===y},t.isMemo=function(e){return _(e)===h},t.isPortal=function(e){return _(e)===n},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===f||e===a||e===o||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===h||e.$$typeof===s||e.$$typeof===u||e.$$typeof===l||e.$$typeof===g||e.$$typeof===v||e.$$typeof===b||e.$$typeof===m)},t.typeOf=_}()})),z=($.AsyncMode,$.ConcurrentMode,$.ContextConsumer,$.ContextProvider,$.Element,$.ForwardRef,$.Fragment,$.Lazy,$.Memo,$.Portal,$.Profiler,$.StrictMode,$.Suspense,$.isAsyncMode,$.isConcurrentMode,$.isContextConsumer,$.isContextProvider,$.isElement,$.isForwardRef,$.isFragment,$.isLazy,$.isMemo,$.isPortal,$.isProfiler,$.isStrictMode,$.isSuspense,$.isValidElementType,$.typeOf,n((function(e){"production"===process.env.NODE_ENV?e.exports=N:e.exports=$}))),q=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;function V(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var H=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,n,i=V(e),o=1;o<arguments.length;o++){for(var a in r=Object(arguments[o]))U.call(r,a)&&(i[a]=r[a]);if(q){n=q(r);for(var s=0;s<n.length;s++)W.call(r,n[s])&&(i[n[s]]=r[n[s]])}}return i},K="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Q=function(){};if("production"!==process.env.NODE_ENV){var J=K,Y={},X=Function.call.bind(Object.prototype.hasOwnProperty);Q=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}}function G(e,t,r,n,i){if("production"!==process.env.NODE_ENV)for(var o in e)if(X(e,o)){var a;try{if("function"!=typeof e[o]){var s=Error((n||"React class")+": "+r+" type `"+o+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[o]+"`.");throw s.name="Invariant Violation",s}a=e[o](t,o,n,r,null,J)}catch(e){a=e}if(!a||a instanceof Error||Q((n||"React class")+": type specification of "+r+" `"+o+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof a+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),a instanceof Error&&!(a.message in Y)){Y[a.message]=!0;var u=i?i():"";Q("Failed "+r+" type: "+a.message+(null!=u?u:""))}}}G.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(Y={})};var Z=G,ee=Function.call.bind(Object.prototype.hasOwnProperty),te=function(){};function re(){return null}"production"!==process.env.NODE_ENV&&(te=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}});var ne=function(e,t){var r="function"==typeof Symbol&&Symbol.iterator;var n={array:s("array"),bool:s("boolean"),func:s("function"),number:s("number"),object:s("object"),string:s("string"),symbol:s("symbol"),any:a(re),arrayOf:function(e){return a((function(t,r,n,i,a){if("function"!=typeof e)return new o("Property `"+a+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var s=t[r];if(!Array.isArray(s))return new o("Invalid "+i+" `"+a+"` of type `"+c(s)+"` supplied to `"+n+"`, expected an array.");for(var u=0;u<s.length;u++){var f=e(s,u,n,i,a+"["+u+"]",K);if(f instanceof Error)return f}return null}))},element:a((function(t,r,n,i,a){var s=t[r];return e(s)?null:new o("Invalid "+i+" `"+a+"` of type `"+c(s)+"` supplied to `"+n+"`, expected a single ReactElement.")})),elementType:a((function(e,t,r,n,i){var a=e[t];return z.isValidElementType(a)?null:new o("Invalid "+n+" `"+i+"` of type `"+c(a)+"` supplied to `"+r+"`, expected a single ReactElement type.")})),instanceOf:function(e){return a((function(t,r,n,i,a){if(!(t[r]instanceof e)){var s=e.name||"<<anonymous>>";return new o("Invalid "+i+" `"+a+"` of type `"+function(e){if(!e.constructor||!e.constructor.name)return"<<anonymous>>";return e.constructor.name}(t[r])+"` supplied to `"+n+"`, expected instance of `"+s+"`.")}return null}))},node:a((function(e,t,r,n,i){return u(e[t])?null:new o("Invalid "+n+" `"+i+"` supplied to `"+r+"`, expected a ReactNode.")})),objectOf:function(e){return a((function(t,r,n,i,a){if("function"!=typeof e)return new o("Property `"+a+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var s=t[r],u=c(s);if("object"!==u)return new o("Invalid "+i+" `"+a+"` of type `"+u+"` supplied to `"+n+"`, expected an object.");for(var f in s)if(ee(s,f)){var l=e(s,f,n,i,a+"."+f,K);if(l instanceof Error)return l}return null}))},oneOf:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&(arguments.length>1?te("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):te("Invalid argument supplied to oneOf, expected an array.")),re;function t(t,r,n,a,s){for(var u=t[r],c=0;c<e.length;c++)if(i(u,e[c]))return null;var l=JSON.stringify(e,(function(e,t){return"symbol"===f(t)?String(t):t}));return new o("Invalid "+a+" `"+s+"` of value `"+String(u)+"` supplied to `"+n+"`, expected one of "+l+".")}return a(t)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&te("Invalid argument supplied to oneOfType, expected an instance of array."),re;for(var t=0;t<e.length;t++){var r=e[t];if("function"!=typeof r)return te("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+l(r)+" at index "+t+"."),re}return a((function(t,r,n,i,a){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,r,n,i,a,K))return null}return new o("Invalid "+i+" `"+a+"` supplied to `"+n+"`.")}))},shape:function(e){return a((function(t,r,n,i,a){var s=t[r],u=c(s);if("object"!==u)return new o("Invalid "+i+" `"+a+"` of type `"+u+"` supplied to `"+n+"`, expected `object`.");for(var f in e){var l=e[f];if(l){var d=l(s,f,n,i,a+"."+f,K);if(d)return d}}return null}))},exact:function(e){return a((function(t,r,n,i,a){var s=t[r],u=c(s);if("object"!==u)return new o("Invalid "+i+" `"+a+"` of type `"+u+"` supplied to `"+n+"`, expected `object`.");var f=H({},t[r],e);for(var l in f){var d=e[l];if(!d)return new o("Invalid "+i+" `"+a+"` key `"+l+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(t[r],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var p=d(s,l,n,i,a+"."+l,K);if(p)return p}return null}))}};function i(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function o(e){this.message=e,this.stack=""}function a(e){if("production"!==process.env.NODE_ENV)var r={},n=0;function i(i,a,s,u,c,f,l){if(u=u||"<<anonymous>>",f=f||s,l!==K){if(t){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var p=u+":"+s;!r[p]&&n<3&&(te("You are manually calling a React.PropTypes validation function for the `"+f+"` prop on `"+u+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),r[p]=!0,n++)}}return null==a[s]?i?null===a[s]?new o("The "+c+" `"+f+"` is marked as required in `"+u+"`, but its value is `null`."):new o("The "+c+" `"+f+"` is marked as required in `"+u+"`, but its value is `undefined`."):null:e(a,s,u,c,f)}var a=i.bind(null,!1);return a.isRequired=i.bind(null,!0),a}function s(e){return a((function(t,r,n,i,a,s){var u=t[r];return c(u)!==e?new o("Invalid "+i+" `"+a+"` of type `"+f(u)+"` supplied to `"+n+"`, expected `"+e+"`."):null}))}function u(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(u);if(null===t||e(t))return!0;var n=function(e){var t=e&&(r&&e[r]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!n)return!1;var i,o=n.call(t);if(n!==t.entries){for(;!(i=o.next()).done;)if(!u(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!u(a[1]))return!1}return!0;default:return!1}}function c(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function f(e){if(null==e)return""+e;var t=c(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function l(e){var t=f(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return o.prototype=Error.prototype,n.checkPropTypes=Z,n.resetWarningCache=Z.resetWarningCache,n.PropTypes=n,n};function ie(){}function oe(){}oe.resetWarningCache=ie;var ae=n((function(e){if("production"!==process.env.NODE_ENV){var t=z;e.exports=ne(t.isElement,!0)}else e.exports=function(){function e(e,t,r,n,i,o){if(o!==K){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:oe,resetWarningCache:ie};return r.PropTypes=r,r}()}));function se(e){if(e<1048576){var t=(e/1024).toFixed(0);return t<=0?e+" B":t+" KB"}return e<1073741824?(e/1048576).toFixed(0)+" MB":e<1099511627776?(e/1073741824).toFixed(0)+" GB":""}function ue(e){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 512 512"},r.createElement("path",{fill:e.color,d:"M504.1 256C504.1 119 393 7.9 256 7.9S7.9 119 7.9 256 119 504.1 256 504.1 504.1 393 504.1 256z"}),r.createElement("path",{fill:"#FFF",d:"M285 256l72.5-84.2c7.9-9.2 6.9-23-2.3-31-9.2-7.9-23-6.9-30.9 2.3L256 222.4l-68.2-79.2c-7.9-9.2-21.8-10.2-31-2.3-9.2 7.9-10.2 21.8-2.3 31L227 256l-72.5 84.2c-7.9 9.2-6.9 23 2.3 31 4.1 3.6 9.2 5.3 14.3 5.3 6.2 0 12.3-2.6 16.6-7.6l68.2-79.2 68.2 79.2c4.3 5 10.5 7.6 16.6 7.6 5.1 0 10.2-1.7 14.3-5.3 9.2-7.9 10.2-21.8 2.3-31L285 256z"}))}var ce={progressBar:{borderRadius:3,boxShadow:"inset 0 1px 3px rgba(0, 0, 0, .2)",bottom:14,position:"absolute",width:"80%"},buttonProgressBar:{position:"inherit",width:"100%"},progressBarFill:{backgroundColor:"#659cef",borderRadius:3,height:10,transition:"width 500ms ease-in-out"}},fe=function(e){c(n,r.Component);var t=y(n);function n(){return o(this,n),t.apply(this,arguments)}return s(n,[{key:"render",value:function(){var e=this.props,t=e.progressBarColor,n=e.progressBar,i=e.displayProgressBarStatus,o=e.isButtonProgressBar;return r.createElement("div",{style:Object.assign({},ce.progressBar,o&&ce.buttonProgressBar)},r.createElement("span",{style:Object.assign({},ce.progressBarFill,{backgroundColor:t||"#659cef"},{width:"".concat(n,"%"),display:i})}))}}]),n}(),le="#A01919",de={dropArea:{alignItems:"center",borderColor:"#CCC",borderStyle:"dashed",borderWidth:2,borderRadius:20,display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",padding:20},inputFile:{display:"none"},highlight:{borderColor:"purple"},unhighlight:{borderColor:"#CCC"},dropFile:{background:"linear-gradient(to bottom, #eee, #ddd)",borderRadius:20,display:"block",height:120,width:100,paddingLeft:10,paddingRight:10,position:"relative",zIndex:10},column:{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},fileSizeInfo:{backgroundColor:"rgba(255, 255, 255, 0.4)",borderRadius:3,lineHeight:1,marginBottom:"0.5em",padding:"0 0.4em"},fileNameInfo:{backgroundColor:"rgba(255, 255, 255, 0.4)",borderRadius:3,fontSize:14,lineHeight:1,padding:"0 0.4em"},defaultCursor:{cursor:"default"},pointerCursor:{cursor:"pointer"},dropFileRemoveButton:{height:23,position:"absolute",right:6,top:6,width:23}},pe=function(e){c(n,r.Component);var t=y(n);function n(){var e;o(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return u(p(e=t.call.apply(t,[this].concat(s))),"inputFileRef",r.createRef()),u(p(e),"dropAreaRef",r.createRef()),u(p(e),"fileSizeInfoRef",r.createRef()),u(p(e),"fileNameInfoRef",r.createRef()),u(p(e),"state",{dropAreaStyle:de.dropArea,progressBar:0,displayProgressBarStatus:"none",file:null,timeout:null,files:null,removeIconColor:le,isCanceled:!1}),u(p(e),"componentDidMount",(function(){var t=e.dropAreaRef.current;if(["dragenter","dragover","dragleave","drop"].forEach((function(r){t.addEventListener(r,e.preventDefaults,!1)})),!e.props.noDrag){["dragenter","dragover"].forEach((function(r){t.addEventListener(r,e.highlight,!1)})),t.addEventListener("dragleave",e.unhighlight,!1),t.addEventListener("drop",e.unhighlight,!1),t.addEventListener("drop",e.visibleProgressBar,!1),t.addEventListener("drop",e.handleDrop,!1)}})),u(p(e),"componentWillUnmount",(function(){var t=e.dropAreaRef.current;if(["dragenter","dragover","dragleave","drop"].forEach((function(r){t.removeEventListener(r,e.preventDefaults,!1)})),!e.props.noDrag){["dragenter","dragover"].forEach((function(r){t.removeEventListener(r,e.highlight,!1)})),t.removeEventListener("dragleave",e.unhighlight,!1),t.removeEventListener("drop",e.unhighlight,!1),t.removeEventListener("drop",e.visibleProgressBar,!1),t.removeEventListener("drop",e.handleDrop,!1)}})),u(p(e),"preventDefaults",(function(e){e.preventDefault(),e.stopPropagation()})),u(p(e),"highlight",(function(){e.setState({dropAreaStyle:Object.assign({},de.dropArea,de.highlight)}),e.setState({progressBar:0})})),u(p(e),"unhighlight",(function(){e.setState({dropAreaStyle:Object.assign({},de.dropArea,de.unhighlight)})})),u(p(e),"visibleProgressBar",(function(){e.setState({displayProgressBarStatus:"block"})})),u(p(e),"handleDrop",(function(t){var r={},n=!1;void 0===t.files?r=t.dataTransfer.files:r=t.files;0===r.length&&(r=e.state.files,n=!0),e.setState({files:r,isCanceled:n},(function(){e.handleFiles()}))})),u(p(e),"handleFiles",(function(){e.setState({progressBar:0});m(e.state.files).forEach(e.uploadFile)})),u(p(e),"uploadFile",(function(t,r){e.displayFileInfo(t),e.setState({file:t});var n=e.props,o=n.onDrop,a=n.onFileLoad,s=n.onError,u=n.config,c=void 0===u?{}:u,f=new window.FileReader,l={};c.error&&delete c.error,c.step&&delete c.step,c.complete&&delete c.complete;var d=t.size,h=[],y=0;if(o||a){var m=p(e);l=Object.assign({complete:function(){o?o(h,t):a(h,t)},step:function(e,t){h.push(e);var r=e.meta.cursor,n=Math.round(r/d*100);n!==y&&(y=n,m.setState({progressBar:y}))}},l)}s&&(l=Object.assign({error:s},l)),c&&(l=Object.assign(c,l)),f.onload=function(e){i.parse(e.target.result,l)},f.onloadend=function(t){clearTimeout(e.state.timeout),e.setState({timeout:setTimeout((function(){e.disableProgressBar()}),2e3)})},f.readAsText(t,c.encoding||"utf-8")})),u(p(e),"displayFileInfo",(function(t){e.childrenIsFunction()||(e.fileSizeInfoRef.current.innerHTML=se(t.size),e.fileNameInfoRef.current.innerHTML=t.name)})),u(p(e),"disableProgressBar",(function(){e.setState({displayProgressBarStatus:"none"})})),u(p(e),"childrenIsFunction",(function(){return"function"==typeof e.props.children})),u(p(e),"fileChange",(function(t){var r=t.target;e.setState({displayProgressBarStatus:"block"},(function(){e.handleDrop(r)}))})),u(p(e),"open",(function(t){var r=e.state.displayProgressBarStatus;t&&"none"===r&&(e.preventDefaults(t),e.inputFileRef.current.value=null,e.inputFileRef.current.click())})),u(p(e),"renderChildren",(function(){return e.childrenIsFunction()?e.props.children({file:e.state.file}):e.props.children})),u(p(e),"removeFile",(function(t){if(t){t.stopPropagation(),e.setState({files:null,file:null});var r=e.props.onRemoveFile;r&&r(null),e.inputFileRef.current.value=null}})),u(p(e),"changeRemoveIconColor",(function(t){t&&e.setState({removeIconColor:t})})),u(p(e),"renderDropFileRemoveButton",(function(){var t=e.props.addRemoveButton,n=e.state,i=n.removeIconColor,o=n.displayProgressBarStatus;return t&&"none"===o?r.createElement("div",{style:de.dropFileRemoveButton,onClick:function(t){return e.removeFile(t)},onMouseOver:function(){return e.changeRemoveIconColor("#DD2222")},onMouseOut:function(){return e.changeRemoveIconColor(le)}},r.createElement(ue,{color:i})):t?r.createElement("div",{style:de.dropFileRemoveButton},r.createElement(ue,{color:le})):void 0})),e}return s(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.style,i=t.noClick,o=t.children,a=t.progressBarColor,s=this.state,u=s.dropAreaStyle,c=s.files,f=s.isCanceled,l=s.progressBar,d=s.displayProgressBarStatus;return r.createElement(r.Fragment,null,r.createElement("input",{type:"file",accept:"text/csv",ref:this.inputFileRef,style:de.inputFile,onChange:function(t){return e.fileChange(t)}}),this.childrenIsFunction()?r.createElement("div",{ref:this.dropAreaRef},this.renderChildren(),c&&c.length>0&&!f&&r.createElement(fe,{progressBarColor:a,progressBar:l,displayProgressBarStatus:d,isButtonProgressBar:!0})):r.createElement("div",{ref:this.dropAreaRef,style:Object.assign({},n,u,void 0!==i||"block"===d?de.defaultCursor:de.pointerCursor),onClick:function(t){i||e.open(t)}},c&&c.length>0?r.createElement("div",{style:Object.assign({},de.dropFile,de.column)},this.renderDropFileRemoveButton(),r.createElement("div",{style:de.column},r.createElement("span",{style:de.fileSizeInfo,ref:this.fileSizeInfoRef}),r.createElement("span",{style:de.fileNameInfo,ref:this.fileNameInfoRef})),c&&c.length>0&&!f&&r.createElement(fe,{progressBarColor:a,progressBar:l,displayProgressBarStatus:d})):o))}}]),n}();u(pe,"propTypes",{children:ae.any.isRequired,onDrop:ae.func,onFileLoad:ae.func,onError:ae.func,config:ae.object,style:ae.object,noClick:ae.bool,noDrag:ae.bool,progressBarColor:ae.string,addRemoveButton:ae.bool,onRemoveFile:ae.func});var he=i.BAD_DELIMITERS,ye=i.RECORD_SEP,me=i.UNIT_SEP,ge=i.WORKERS_SUPPORTED,ve=i.LocalChunkSize,be=i.DefaultDelimiter;exports.BAD_DELIMITERS=he,exports.CSVReader=pe,exports.DefaultDelimiter=be,exports.LocalChunkSize=ve,exports.RECORD_SEP=ye,exports.UNIT_SEP=me,exports.WORKERS_SUPPORTED=ge,exports.jsonToCSV=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.unparse(e,t)},exports.readRemoteFile=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.parse(e,Object.assign({},{download:!0},t))},exports.readString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.parse(e,t)};
//# sourceMappingURL=index.js.map
